GROMACS 2022.1 release notes
----------------------------

This version was released on TODO, 2022. These release notes
document the changes that have taken place in GROMACS since the
previous 2022 version, to fix known issues. It also incorporates all
fixes made in version 2021.5 and earlier, which you can find described
in the :ref:`release-notes`.

.. Note to developers!
   Please use """"""" to underline the individual entries for fixed issues in the subfolders,
   otherwise the formatting on the webpage is messed up.
   Also, please use the syntax :issue:`number` to reference issues on GitLab, without the
   a space between the colon and number!

Fixes where mdrun could behave incorrectly
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Fix crash when steering FEP with AWH without PME or with separate PME rank
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

There would be a segfault when deciding whether early PME results are needed.

:issue:`4413`

Fixes for ``gmx`` tools
^^^^^^^^^^^^^^^^^^^^^^^

Fix C-terminal residue patch for charmm
"""""""""""""""""""""""""""""""""""""""

One of the atom types names in the Charmm27 force field C-terminal
COOH patch was incorrect, and would have triggered a crash or error
in pdb2gmx, which was identified when Fedora ran our unit tests with
additional checking flags.

:issue:`4414`

Add polyproline helix coloring to DSSP maps
"""""""""""""""""""""""""""""""""""""""""""

DSSP-4.0 can detect polyproline type-2 helices, so we now also
have a dark blue-green color entry for this in the generated maps.

:issue:`4410`

Remove option -unsat from gmx order and document deficiencies
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

This hasn't properly worked since it was added.

:issue:`1166`

Fixes that affect portability
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Miscellaneous
^^^^^^^^^^^^^

Fixed regression test download URL for forks of |Gromacs|
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

Users of forks of |Gromacs| (eg PLUMED) can now also use the feature
to download the regression tests automatically.

Fix internal nblib test failure
"""""""""""""""""""""""""""""""

The nblib internal tests used incorrect indices, which triggered a crash
when Fedora ran our unit tests with additional checking flags. This will
not have influenced any actual clients merely using nblib.

:issue:`4414`

Accurately checks when FEP lambda might go over 1 or under 0
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

The checks that verify that the FEP lambda does not go out of
range used to trigger incorrectly when the delta-lambda and number
of step was exactly right.

:issue:`4442`
